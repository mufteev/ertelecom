(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},62:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(10),s=n.n(r),i=(n(43),n(44),n(45),n(27)),o=n(7),l=n(15),u=(n(46),n(37)),d=n(20),p=n(21),h=n(19),v=n.n(h),y=n(26);function j(e,t){return b.apply(this,arguments)}function b(){return(b=Object(y.a)(v.a.mark((function e(t,n){var a,c,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,n);case 3:if((a=e.sent).ok){e.next=6;break}throw a;case 6:return e.next=8,a.json();case 8:if(0!==(c=e.sent).errorCode){e.next=13;break}return e.abrupt("return",c.data);case 13:throw TypeError(c.errorMessage);case 14:e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(0),r=e.t0 instanceof Response?"".concat(e.t0.statusText," [").concat(e.t0.url,"]"):e.t0 instanceof TypeError?e.t0.message:e.t0,e.next=21,Promise.reject(r);case 21:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}var f=function(){var e=Object(y.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j(t,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=n(2);var _=n(17),O=n(18);new Intl.NumberFormat("ru",{style:"currency",currency:"RUB"}),new Intl.DateTimeFormat("ru",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"});var x=Object(_.b)({name:"calc",initialState:{company_name:"",company_tin:"",users_count:"1",period_service:"1",archive_depths:[],type_storages:[],type_provisions:[],cities:[],archive_depth:null,type_storage:null,type_provision:null,city:null,cost_hdd_service:null,cost_ssd_service:null,missed_field:[],enable_save:!1},reducers:{loadInfo:function(e,t){var n=t.payload;e.archive_depths=n.archive_depth,e.type_storages=n.type_storage,e.type_provisions=n.type_provision,e.archive_depth=n.archive_depth[0],e.type_storage=n.type_storage[0],e.type_provision=n.type_provision[0]},loadCities:function(e,t){var n=t.payload;e.cities=n},setCompanyName:function(e,t){var n=t.payload;e.company_name=n},setCompanyTin:function(e,t){var n=t.payload;e.company_tin=n},setUserCount:function(e,t){var n=t.payload;e.users_count=n},setPeriodService:function(e,t){var n=t.payload;e.period_service=n},setMissedFields:function(e,t){var n=t.payload;e.missed_field=n},changeValArchiveDepth:function(e,t){var n=t.payload;e.archive_depth=n},changeValTypeStorage:function(e,t){var n=t.payload;e.type_storage=n},changeValTypeProvision:function(e,t){var n=t.payload;e.type_provision=n},changeValCity:function(e,t){var n=t.payload;e.city=n},loadCostTotal:function(e,t){var n=t.payload;e.cost_hdd_service=n.cost_hdd_service,e.cost_ssd_service=n.cost_ssd_service},clearStoreFields:function(e){e.company_name="",e.company_tin="",e.users_count="1",e.period_service="1",e.archive_depth=null,e.type_storage_value=null,e.type_provision=null,e.city=null}}}),g=x.actions,C=(g.loadInfo,g.loadCities,g.loadCostTotal,g.setUserCount,g.setCompanyTin,g.setCompanyName,g.setPeriodService,g.setMissedFields,g.changeValCity,g.changeValTypeStorage,g.changeValArchiveDepth,g.changeValTypeProvision,g.clearStoreFields,x.reducer),N=n(69),T=n(70),k=n(71);n(74),n(75),n(73),u.a;n(62);var S=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"searchAsync",value:function(e){return f("/api/history/search",e)}}]),e}(),w=Object(_.b)({name:"history",initialState:{requests:[]},reducers:{loadRequests:function(e,t){var n=t.payload;e.requests=n}}}),F=w.actions.loadRequests,V=w.reducer,P=n(72),q=n(76);var A=function(){var e=Object(O.b)(),t=Object(a.useState)(null),n=Object(l.a)(t,2),c=(n[0],n[1]),r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],o=s[1];Object(O.c)((function(e){return e.history})),Object(a.useEffect)((function(){S.searchAsync().then((function(t){return e(F(t))})).then((function(){return c(null)})).catch((function(e){c(e)}))}),[e]);var u=Object(a.useCallback)((function(t){var n,a=(null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.value)||"";o(a);var r={query:a};S.searchAsync(r).then((function(t){return e(F(t))})).then((function(){return c(null)})).catch((function(e){return c(e)}))}),[e]);return Object(a.useCallback)((function(){return u(null)}),[u]),Object(m.jsxs)(N.a,{className:"p-2",children:[Object(m.jsx)("h3",{className:"text-center mb-5",children:"\u0420\u0430\u043d\u0435\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0435 \u0440\u0430\u0441\u0447\u0451\u0442\u044b"}),Object(m.jsx)(T.a,{className:"justify-content-center",children:Object(m.jsxs)(k.a,{sm:"12",md:"6",children:[Object(m.jsx)(P.a,{children:Object(m.jsx)(q.a,{value:i,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043e\u0442 \u0442\u0440\u0451\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",onChange:u})}),Object(m.jsx)("br",{})]})})]})};var I=function(){return Object(m.jsxs)(i.a,{children:[Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("nav",{className:"nav nav-tabs justify-content-center",children:[Object(m.jsx)("div",{className:"nav-item",children:Object(m.jsx)(i.b,{className:"nav-link",activeClassName:"active",to:"/",exact:!0,children:"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440"})}),Object(m.jsx)("div",{className:"nav-item",children:Object(m.jsx)(i.b,{className:"nav-link",activeClassName:"active",to:"/history",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"})})]})}),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{exact:!0,path:"/",children:"55"}),Object(m.jsx)(o.a,{path:"/history",children:Object(m.jsx)(A,{})}),Object(m.jsx)(o.a,{path:"*",children:Object(m.jsx)("div",{className:"text-center mt-4",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})})]})})]})},E=Object(_.a)({reducer:{calc:C,history:V}});s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(O.a,{store:E,children:Object(m.jsx)(I,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.592a8d74.chunk.js.map