(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},62:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(10),i=n.n(a),s=(n(43),n(44),n(45),n(27)),o=n(7),l=n(15),u=(n(46),n(37)),d=n(20),j=n(21),b=n(19),h=n.n(b),p=n(26);function v(e,t){return O.apply(this,arguments)}function O(){return(O=Object(p.a)(h.a.mark((function e(t,n){var c,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,n);case 3:if((c=e.sent).ok){e.next=6;break}throw c;case 6:return e.next=8,c.json();case 8:if(0!==(r=e.sent).errorCode){e.next=13;break}return e.abrupt("return",r.data);case 13:throw TypeError(r.errorMessage);case 14:e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(0),a=e.t0 instanceof Response?"".concat(e.t0.statusText," [").concat(e.t0.url,"]"):e.t0 instanceof TypeError?e.t0.message:e.t0,e.next=21,Promise.reject(a);case 21:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}var y=function(){var e=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v(t,{method:"GET"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(p.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v(t,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){function e(){Object(d.a)(this,e)}return Object(j.a)(e,null,[{key:"saveHistoryAsync",value:function(e){return f("/api/history/save",e)}},{key:"sendCalculationAsync",value:function(e){return f("/api/calc/calculating",e)}},{key:"loadDirectoriesAsync",value:function(){return y("/api/calc/get_directory_info")}},{key:"searchCitiesAsync",value:function(e){return y("/api/calc/get_cities_search?s=".concat(e))}}]),e}(),_=n(2);function x(e){var t=e.id,n=e.label,r=e.value,a=e.validate,i=e.onChange,s=e.type,o=void 0===s?"text":s,u=e.min,d=e.max,j=Object(c.useState)(void 0),b=Object(l.a)(j,2),h=b[0],p=b[1],v="form-control",O="",y="";null===h&&(v+=" is-valid"),h&&(v+=" is-invalid"),"number"===o&&(O=u,y=d);var f=Object(c.useCallback)((function(e){"function"===typeof i&&i(e.target.value),"function"===typeof a&&p(a(e.target.value))}),[i,a]);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("label",{htmlFor:t,children:n}),Object(_.jsx)("input",{id:t,type:o,value:r,min:O,max:y,className:v,onBlur:f,onChange:f}),Object(_.jsx)("div",{className:"error-msg",children:h})]})}var g=r.a.memo(x);function C(e,t,n){if(!/^-?\d+$/.test(e))return"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e";var c=parseInt(e);return c<t?"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 ".concat(t):c>n?"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 ".concat(n):null}function k(e){return null===e||/^\s*$/.test(e)}function N(e){if("string"!==typeof e||10!==e.length&&12!==e.length||e.split("").some((function(e){return isNaN(Number(e))})))return!1;if(10===e.length){var t=e.split("").slice(0,-1).reduce((function(e,t,n){return[2,4,10,3,5,9,4,6,8][n]*Number(t)+e}),0);return Number(e[9])===t%11%10}if(12===e.length){var n=e.split("").slice(0,-2).reduce((function(e,t,n){return[7,2,4,10,3,5,9,4,6,8][n]*Number(t)+e}),0),c=e.split("").slice(0,-1).reduce((function(e,t,n){return[3,7,2,4,10,3,5,9,4,6,8][n]*Number(t)+e}),0)%11%10,r=n%11%10;return Number(e[10])===r&&Number(e[11])===c}}var S=function(){function e(){Object(d.a)(this,e)}return Object(j.a)(e,null,[{key:"getMissedFields",value:function(e){return[k(e.company_name)?"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438":"",N(e.company_tin)?"":"\u0418\u041d\u041d",null===e.city?"\u0413\u043e\u0440\u043e\u0434 \u043a\u043b\u0438\u0435\u043d\u0442\u0430":"",null===e.type_provision?"\u041a\u0430\u043a\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0430 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0430":"",C(e.users_count,1,250)?"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439":"",null===e.archive_depth?"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0435\u0441\u044f\u0446\u0435\u0432 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445":"",null===e.type_storage?"\u0422\u0438\u043f \u0436\u0451\u0441\u0442\u043a\u043e\u0433\u043e \u0434\u0438\u0441\u043a\u0430":"",C(e.period_service,1)?"\u041f\u0435\u0440\u0438\u043e\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433\u043e\u0439":""].filter((function(e){return e.length>0}))}},{key:"validCompanyName",value:function(e){return k(e)?"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438":null}},{key:"validCompanyTin",value:function(e){return N(e)?null:"\u0418\u041d\u041d \u043d\u0435 \u0432\u0435\u0440\u043d\u043e\u0435"}},{key:"validUsersCount",value:function(e){return C(e,1,250)}},{key:"validPeriodService",value:function(e){return C(e,1)}}]),e}(),w=n(17),T=n(18),F=new Intl.NumberFormat("ru",{style:"currency",currency:"RUB"}),A=new Intl.DateTimeFormat("ru",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"});function V(e){return F.format(e)}function D(e){var t=new Date(e);return A.format(t)}function H(e){if(e=Number(e),Number.isNaN(e))return null;var t=e%100,n=t%10;return t>10&&t<20?arguments.length<=3?void 0:arguments[3]:n>1&&n<5?arguments.length<=2?void 0:arguments[2]:1===n?arguments.length<=1?void 0:arguments[1]:arguments.length<=3?void 0:arguments[3]}var P=Object(w.b)({name:"calc",initialState:{company_name:"",company_tin:"",users_count:"1",period_service:"1",archive_depths:[],type_storages:[],type_provisions:[],cities:[],archive_depth:null,type_storage:null,type_provision:null,city:null,cost_hdd_service:null,cost_ssd_service:null,missed_field:[],enable_save:!1},reducers:{loadInfo:function(e,t){var n=t.payload;e.archive_depths=n.archive_depth,e.type_storages=n.type_storage,e.type_provisions=n.type_provision,e.archive_depth=n.archive_depth[0],e.type_storage=n.type_storage[0],e.type_provision=n.type_provision[0]},loadCities:function(e,t){var n=t.payload;e.cities=n},setCompanyName:function(e,t){var n=t.payload;e.company_name=n},setCompanyTin:function(e,t){var n=t.payload;e.company_tin=n},setUserCount:function(e,t){var n=t.payload;e.users_count=n},setPeriodService:function(e,t){var n=t.payload;e.period_service=n},setMissedFields:function(e,t){var n=t.payload;e.missed_field=n},changeValArchiveDepth:function(e,t){var n=t.payload;e.archive_depth=n},changeValTypeStorage:function(e,t){var n=t.payload;e.type_storage=n},changeValTypeProvision:function(e,t){var n=t.payload;e.type_provision=n},changeValCity:function(e,t){var n=t.payload;e.city=n},loadCostTotal:function(e,t){var n=t.payload;e.cost_hdd_service=n.cost_hdd_service,e.cost_ssd_service=n.cost_ssd_service},clearStoreFields:function(e){e.company_name="",e.company_tin="",e.users_count="1",e.period_service="1",e.archive_depth=null,e.type_storage_value=null,e.type_provision=null,e.city=null}}}),B=P.actions,q=B.loadInfo,E=B.loadCities,I=B.loadCostTotal,M=B.setUserCount,U=B.setCompanyTin,L=B.setCompanyName,R=B.setPeriodService,J=B.setMissedFields,$=B.changeValCity,G=B.changeValTypeStorage,z=B.changeValArchiveDepth,K=B.changeValTypeProvision,Q=B.clearStoreFields,W=P.reducer,X=n(69),Y=n(70),Z=n(71),ee=n(74),te=n(75),ne=n(73),ce=r.a.memo(u.a);var re=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),i=Object(l.a)(a,2),s=i[0],o=i[1],u=Object(c.useState)({show:!1,title:"",body:""}),d=Object(l.a)(u,2),j=d[0],b=d[1],h=function(){return o(!1)},p=function(){return b({show:!1,title:"",body:""})},v=function(e,t){return b({show:!0,title:e,body:t})},O=Object(T.c)((function(e){return e.calc})),y=Object(T.b)(),f=Object(c.useCallback)((function(e){return e.id}),[]),x=Object(c.useCallback)((function(e){return e.name}),[]),C=Object(c.useCallback)((function(e){return e.depth}),[]),k=Object(c.useCallback)((function(e){return y($(e))}),[y]),N=Object(c.useCallback)((function(e){return y(G(e))}),[y]),F=Object(c.useCallback)((function(e){return y(K(e))}),[y]),A=Object(c.useCallback)((function(e){return y(z(e))}),[y]),D=Object(c.useCallback)((function(e){"string"!==typeof e||e.length<3||m.searchCitiesAsync(e).then((function(e){return y(E(e))})).then((function(){return r(null)})).catch((function(e){return r(e)}))}),[y]),P=Object(c.useCallback)((function(e){return S.validCompanyTin(e)}),[]),B=Object(c.useCallback)((function(e){return S.validUsersCount(e)}),[]),W=Object(c.useCallback)((function(e){return S.validCompanyName(e)}),[]),re=Object(c.useCallback)((function(e){return S.validPeriodService(e)}),[]),ae=Object(c.useCallback)((function(e){return y(M(e))}),[y]),ie=Object(c.useCallback)((function(e){return y(U(e))}),[y]),se=Object(c.useCallback)((function(e){return y(L(e))}),[y]),oe=Object(c.useCallback)((function(e){return y(R(e))}),[y]);function le(e,t){return t?Object(_.jsxs)("div",{className:"total-cost",children:[Object(_.jsxs)("span",{className:"pe-4",children:["\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0443\u0441\u043b\u0443\u0433\u0438 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0434\u0438\u0441\u043a\u0430 ",e," \u043d\u0430 ",O.period_service," \u043c\u0435\u0441. \u0434\u043b\u044f ",O.users_count," ",H(O.users_count,"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f","\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439","\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")]}),Object(_.jsx)("span",{className:"currency",children:V(t)})]}):null}return Object(c.useEffect)((function(){m.loadDirectoriesAsync().then((function(e){return y(q(e))})).then((function(){return r(null)})).catch((function(e){return r(e)}))}),[y]),Object(c.useEffect)((function(){if(y(I({cost_hdd_service:0,cost_ssd_service:0})),!S.validUsersCount(O.users_count)&&!S.validPeriodService(O.period_service)&&O.type_storage&&O.type_storage.id&&O.archive_depth&&O.archive_depth.id){var e={users_count:O.users_count,period_service:O.period_service,type_storage_id:O.type_storage&&O.type_storage.id,archive_depth_id:O.archive_depth&&O.archive_depth.id};m.sendCalculationAsync(e).then((function(e){return y(I(e))})).then((function(){return r(null)})).catch((function(e){return r(e)}))}}),[y,O.users_count,O.period_service,O.type_storage,O.archive_depth]),Object(_.jsxs)(X.a,{className:"p-2",children:[Object(_.jsx)("h3",{className:"text-center mb-5",children:'\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u043f\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443 "\u041e\u0444\u0438\u0441\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c"'}),n?Object(_.jsx)("div",{className:"m-3 p-3 error-info",children:n}):null,Object(_.jsx)(Y.a,{className:"justify-content-center",children:Object(_.jsxs)(Z.a,{sm:"12",md:"6",children:[Object(_.jsxs)(ee.a,{children:[Object(_.jsx)(ee.a.Header,{children:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0435"}),Object(_.jsxs)(ee.a.Body,{children:[Object(_.jsx)(g,{id:"company_name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438:",value:O.company_name,validate:W,onChange:se}),Object(_.jsx)(g,{id:"company_tin",label:"\u0418\u041d\u041d:",value:O.company_tin,validate:P,onChange:ie}),Object(_.jsx)("label",{htmlFor:"city_select",children:"\u0413\u043e\u0440\u043e\u0434 \u043a\u043b\u0438\u0435\u043d\u0442\u0430:"}),Object(_.jsx)(ce,{placeholder:"\u041f\u043e\u0438\u0441\u043a \u043e\u0442 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",value:O.city,onChange:k,options:O.cities,onInputChange:D,getOptionValue:f,getOptionLabel:x,isClearable:!0,isSearchable:!0}),Object(_.jsx)("br",{}),Object(_.jsx)("label",{htmlFor:"type_provision",children:"\u041a\u0430\u043a\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0430 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0430:"}),Object(_.jsx)(ce,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0443\u0441\u043b\u0443\u0433\u0438",value:O.type_provision,onChange:F,options:O.type_provisions,getOptionValue:f,getOptionLabel:x,isSearchable:!1}),Object(_.jsx)("br",{}),Object(_.jsx)(g,{id:"users_count",label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439:",value:O.users_count,type:"number",min:"1",max:"250",validate:B,onChange:ae})]})]}),Object(_.jsx)("br",{}),Object(_.jsxs)(ee.a,{children:[Object(_.jsx)(ee.a.Header,{children:"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044e \u043e\u0431\u043b\u0430\u0447\u043d\u043e\u0433\u043e \u0440\u0435\u0448\u0435\u043d\u0438\u044f"}),Object(_.jsxs)(ee.a.Body,{children:[Object(_.jsx)("label",{htmlFor:"city_select",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0435\u0441\u044f\u0446\u0435\u0432 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 (\u0433\u043b\u0443\u0431\u0438\u043d\u0430 \u0430\u0440\u0445\u0438\u0432\u0430):"}),Object(_.jsx)(ce,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043b\u0443\u0431\u0438\u043d\u0443",value:O.archive_depth,options:O.archive_depths,onChange:A,getOptionValue:f,getOptionLabel:C,isSearchable:!1}),Object(_.jsx)("br",{}),Object(_.jsx)("label",{htmlFor:"city_select",children:"\u0422\u0438\u043f \u0436\u0451\u0441\u0442\u043a\u043e\u0433\u043e \u0434\u0438\u0441\u043a\u0430:"}),Object(_.jsx)(ce,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0434\u0438\u0441\u043a\u0430",value:O.type_storage,options:O.type_storages,onChange:N,getOptionValue:f,getOptionLabel:x,isSearchable:!1}),Object(_.jsx)("br",{}),Object(_.jsx)(g,{id:"period_use_service",label:"\u041f\u0435\u0440\u0438\u043e\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433\u043e\u0439 (\u043c\u0435\u0441\u044f\u0446\u0435\u0432):",value:O.period_service,type:"number",min:"1",validate:re,onChange:oe})]})]}),Object(_.jsx)("br",{}),Object(_.jsxs)(ee.a,{children:[Object(_.jsx)(ee.a.Header,{children:"\u0418\u0442\u043e\u0433\u043e\u0432\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0431\u043b\u0430\u0447\u043d\u043e\u0433\u043e \u043e\u0444\u0438\u0441\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044f"}),Object(_.jsx)(ee.a.Body,{children:O.cost_hdd_service||O.cost_ssd_service?Object(_.jsxs)("div",{children:[le("HDD",O.cost_hdd_service),le("SSD",O.cost_ssd_service)]}):Object(_.jsx)("div",{children:"\u041f\u043e\u0434\u0441\u0447\u0451\u0442..."})})]}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{children:Object(_.jsx)(te.a,{variant:"outline-success",className:"w-100",onClick:function(){var e={users_count:O.users_count,company_tin:O.company_tin,company_name:O.company_name,period_service:O.period_service,city_id:O.city.id,type_storage_id:O.type_storage.id,archive_depth_id:O.archive_depth.id,type_provision_id:O.type_provision.id},t=S.getMissedFields(e);if(t.length>0)return y(J(t)),void o(!0);m.saveHistoryAsync(e).then((function(){return v("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430!")})).catch((function(e){return v("\u041e\u0448\u0438\u0431\u043a\u0430","\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438\n".concat(e))}))},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0437\u0430\u043a\u0430\u0437\u0435"})}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{children:Object(_.jsx)(te.a,{variant:"outline-danger",className:"w-100",onClick:function(){y(Q()),v("\u041f\u043e\u043b\u044f \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u044b","Ok")},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u043e\u043b\u044f"})})]})}),Object(_.jsxs)(ne.a,{show:s,centered:!0,onHide:h,animation:!1,children:[Object(_.jsx)(ne.a.Header,{children:Object(_.jsx)(ne.a.Title,{children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043f\u043e\u043b\u044f"})}),Object(_.jsx)(ne.a.Body,{children:Object(_.jsx)("ul",{children:O.missed_field.map((function(e){return Object(_.jsx)("li",{children:e},Object(w.c)())}))})}),Object(_.jsx)(ne.a.Footer,{children:Object(_.jsx)(te.a,{variant:"primary",onClick:h,children:"\u041e\u043a"})})]}),Object(_.jsxs)(ne.a,{show:j.show,centered:!0,onHide:p,animation:!1,children:[Object(_.jsx)(ne.a.Header,{children:Object(_.jsx)(ne.a.Title,{children:j.title})}),Object(_.jsx)(ne.a.Body,{children:Object(_.jsx)("ul",{children:j.body})}),Object(_.jsx)(ne.a.Footer,{children:Object(_.jsx)(te.a,{variant:"primary",onClick:p,children:"\u041e\u043a"})})]})]})},ae=(n(62),function(){function e(){Object(d.a)(this,e)}return Object(j.a)(e,null,[{key:"searchAsync",value:function(e){return f("/api/history/search",e)}}]),e}()),ie=Object(w.b)({name:"history",initialState:{requests:[]},reducers:{loadRequests:function(e,t){var n=t.payload;e.requests=n}}}),se=ie.actions.loadRequests,oe=ie.reducer,le=n(72),ue=n(76);var de=function(){var e=Object(T.b)(),t=Object(c.useState)(null),n=Object(l.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(""),s=Object(l.a)(i,2),o=s[0],u=s[1],d=Object(T.c)((function(e){return e.history}));Object(c.useEffect)((function(){ae.searchAsync().then((function(t){return e(se(t))})).then((function(){return a(null)})).catch((function(e){return a(e)}))}),[e]);var j=Object(c.useCallback)((function(t){var n,c=(null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.value)||"";u(c);var r={query:c};ae.searchAsync(r).then((function(t){return e(se(t))})).then((function(){return a(null)})).catch((function(e){return a(e)}))}),[e]),b=Object(c.useCallback)((function(){return j(null)}),[j]);function h(e,t){return t?Object(_.jsxs)("div",{children:["\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0441 HDD: ",Object(_.jsx)("span",{className:"currency",children:V(t)})]}):null}return Object(_.jsxs)(X.a,{className:"p-2",children:[Object(_.jsx)("h3",{className:"text-center mb-5",children:"\u0420\u0430\u043d\u0435\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0435 \u0440\u0430\u0441\u0447\u0451\u0442\u044b"}),r?Object(_.jsx)("div",{className:"m-3 p-3 error-info",children:r}):null,Object(_.jsx)(Y.a,{className:"justify-content-center",children:Object(_.jsxs)(Z.a,{sm:"12",md:"6",children:[Object(_.jsxs)(le.a,{children:[Object(_.jsx)(ue.a,{value:o,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043e\u0442 \u0442\u0440\u0451\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",onChange:j}),k(o)?null:Object(_.jsx)(te.a,{variant:"outline-danger",onClick:b,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"})]}),Object(_.jsx)("br",{}),d.requests.map((function(e){return t=e,Object(_.jsxs)("div",{className:"mb-4 border border-secondary rounded p-2",children:[Object(_.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(_.jsxs)("span",{children:[t.company_name,", \u0418\u041d\u041d ",t.tin]}),Object(_.jsx)("a",{href:"/api/history/download?order_id=".concat(t.id),target:"_blank",rel:"noreferrer",className:"btn btn-sm btn-outline-secondary",children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442"})]}),Object(_.jsx)("div",{className:"request-time",children:D(t.create_at)}),Object(_.jsx)("hr",{}),Object(_.jsxs)("div",{children:["\u0413\u043e\u0440\u043e\u0434: ",t.city_name]}),Object(_.jsxs)("div",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: ",t.users_count]}),Object(_.jsxs)("div",{children:["\u0413\u043b\u0443\u0431\u0438\u043d\u0430 \u0430\u0440\u0445\u0438\u0432\u0430: ",t.archive_depth," \u043c\u0435\u0441."]}),Object(_.jsxs)("div",{children:["\u041f\u0435\u0440\u0438\u043e\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f: ",t.period_service," \u043c\u0435\u0441."]}),Object(_.jsx)("div",{children:h(0,t.cost_service_hdd)}),Object(_.jsx)("div",{children:h(0,t.cost_service_ssd)})]},t.id);var t}))]})})]})};var je=function(){return Object(_.jsxs)(s.a,{children:[Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("nav",{className:"nav nav-tabs justify-content-center",children:[Object(_.jsx)("div",{className:"nav-item",children:Object(_.jsx)(s.b,{className:"nav-link",activeClassName:"active",to:"/",exact:!0,children:"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440"})}),Object(_.jsx)("div",{className:"nav-item",children:Object(_.jsx)(s.b,{className:"nav-link",activeClassName:"active",to:"/history",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"})})]})}),Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(o.c,{children:[Object(_.jsx)(o.a,{exact:!0,path:"/",children:Object(_.jsx)(re,{})}),Object(_.jsx)(o.a,{path:"/history",children:Object(_.jsx)(de,{})}),Object(_.jsx)(o.a,{path:"*",children:Object(_.jsx)("div",{className:"text-center mt-4",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})})]})})]})},be=Object(w.a)({reducer:{calc:W,history:oe}});i.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(T.a,{store:be,children:Object(_.jsx)(je,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.f4517d36.chunk.js.map